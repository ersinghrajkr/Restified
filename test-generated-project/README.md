# TestProject API Test Suite

Enterprise-grade API testing suite generated by RestifiedTS.

## 🚀 Quick Start

```bash
# Install dependencies
npm install

# Copy environment template
cp .env.example .env

# Run tests (uses Restified HTML reporter by default)
npm test

# Open HTML report
npm run reports:open
```

## 🏢 Features

- **✅ Enterprise Configuration**: Pre-configured for TestProject
- **✅ Multiple Clients**: API Gateway, Authentication, Test Utils
- **✅ Automatic Authentication**: Token extraction and injection
- **✅ Global Headers**: Enterprise tracing and compliance headers
- **✅ Comprehensive Reporting**: HTML reports with request/response details
- **✅ Environment Management**: Development, staging, production configs

## 📁 Project Structure

```
test-generated-project/
├── restified.config.ts     # Enterprise configuration
├── package.json           # Dependencies and scripts
├── tsconfig.json          # TypeScript configuration
├── .env.example           # Environment template
├── setup/
│   └── global-setup.ts    # Global test setup
├── tests/
│   ├── api-tests.ts       # API functionality tests
│   └── auth-tests.ts      # Authentication tests
└── reports/               # Generated test reports
```

## 🔧 Configuration

The `restified.config.ts` file contains enterprise-grade configuration:

- **Environment Settings**: Datacenter, region, cluster awareness
- **HTTP Clients**: Pre-configured for TestProject services
- **Authentication**: Automatic token management
- **Global Headers**: Enterprise tracing and compliance
- **Reporting**: Comprehensive HTML and JSON reports

## 📊 Available Scripts

- `npm test` - **Run all tests with Restified HTML report (default)**
- `npm run test:console` - Run tests with console output only
- `npm run test:mochawesome` - Run tests with alternative Mochawesome HTML report
- `npm run test:watch` - Run tests in watch mode (console output)
- `npm run test:coverage` - Run tests with coverage analysis
- `npm run reports:clean` - Clean report directory
- `npm run reports:open` - **Open Restified HTML report**
- `npm run reports:mochawesome` - Open Mochawesome HTML report

## 🏗️ Adding Tests

Create new test files in the `tests/` directory:

```typescript
import { restified } from 'restifiedts';

describe('My New Tests', function() {
  this.timeout(30000);

  afterAll(async function() {
    await restified.cleanup();
  });

  it('should test new functionality', async function() {
    const response = await restified
      .given()
        .useClient('api')  // Pre-configured client
      .when()
        .get('/new-endpoint')
        .execute();

    await response
      .statusCode(200)
      .execute();
  });
});
```

## 🌍 Environment Configuration

Update `.env` file for your environment:

```bash
# Service URLs
API_GATEWAY_URL=https://api.jsonplaceholder.typicode.com
AUTH_SERVICE_URL=https://auth.jsonplaceholder.typicode.com

# Authentication
AUTH_ENDPOINT=/oauth/token
TOKEN_JSONPATH=$.access_token

# Testing
TEST_ENV=staging
ENABLE_LOGGING=true
```

## 📈 Restified HTML Reports

The default `npm test` command automatically generates a comprehensive HTML report using the **Restified HTML Reporter**.

### Features:
- ✅ **Collapsible Test Structure**: Suite-based organization with expandable tests
- 📊 **Request/Response Details**: Full HTTP request and response data in collapsible sections  
- ⏱️ **Performance Metrics**: Response times and execution duration
- 🔍 **Interactive Filtering**: Filter by test status (Passed/Failed/Pending) or by test suite
- 📋 **Enterprise Headers**: Shows all enterprise tracing and compliance headers
- 🎨 **Modern UI**: Clean, responsive design optimized for 2000+ tests

### View Reports:
```bash
# Run tests (generates report automatically)
npm test

# Open the HTML report
npm run reports:open
```

### Reporter Configuration:
Customize the reporter in your `.env` file:
```bash
# Maximum payload size to display (larger payloads are truncated)
MAX_PAYLOAD_SIZE=10000

# Report theme (default)
REPORT_THEME=default

# Auto-open report after tests
OPEN_REPORT=true
```

---

Generated by RestifiedTS - Enterprise API Testing Framework
